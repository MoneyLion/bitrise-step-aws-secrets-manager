title: AWS Secrets Manager
summary: Fetch secrets from AWS Secrets Manager
description: |
  Fetch secrets from AWS Secrets Manager
website: https://github.com/MoneyLion/bitrise-step-aws-secrets-manager
source_code_url: https://github.com/MoneyLion/bitrise-step-aws-secrets-manager
support_url: https://github.com/MoneyLion/bitrise-step-aws-secrets-manager/issues
host_os_tags:
  - osx-10.10
  - ubuntu-16.04
type_tags:
  - utility

is_requires_admin_user: true
is_always_run: false
is_skippable: false
run_if: ""

deps:
  brew:
  - name: awscli
    bin_name: aws
  apt_get:
  - name: awscli
    bin_name: aws

toolkit:
  go:
    package_name: moneylion.com/security/bitrise-step-aws-secrets-manager

inputs:
  - aws_access_key_id: $aws_AccessKeyID
    opts:
      title: "AWS Access Key"
      summary: AWS Access Key
      description: Access key for your AWS/IAM user. Define this as a secret environment
        variable in your workflow.
      is_sensitive:  true
      is_required: true
  - aws_secret_access_key: $aws_secretAccessKey
    opts:
      description: Secret key for your AWS/IAM user. Define this as a secret environment
        variable in your workflow.
      is_required: true
      is_sensitive: true
      summary: "AWS Secret Access Key"
      title: AWS Secret Key
  - iam_role_arn: $iamRoleArn
    opts:
      description: iam role for assume for your AWS/IAM user.
      is_required: true
      is_sensitive: true
      summary: "AWS Iam Role Arn"
      title: AWS Iam Role Arn

outputs:
  - KIUWAN_USERNAME:
    opts:
      title: Kiuwan username
      summary: Summary. No more than 2-3 sentences.
      description: kiuwan username extract from aws secrets manager
  - KIUWAN_PASSWORD:
    opts:
      title: kiuwan password
      summary: Summary. No more than 2-3 sentences.
      description: kiuwan password extract from aws secrets manager